ARM GAS  /tmp/cc1502c8.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"wireless.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "../../mod/wireless/wireless.c"
  19              		.section	.text.rf_xbee_transmit_byte,"ax",%progbits
  20              		.align	1
  21              		.global	rf_xbee_transmit_byte
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	rf_xbee_transmit_byte:
  27              	.LVL0:
  28              	.LFB333:
   1:../../mod/wireless/wireless.c **** /*******************************************************************************
   2:../../mod/wireless/wireless.c **** *
   3:../../mod/wireless/wireless.c **** * FILE: 
   4:../../mod/wireless/wireless.c **** * 		wireless.c
   5:../../mod/wireless/wireless.c **** *
   6:../../mod/wireless/wireless.c **** * DESCRIPTION: 
   7:../../mod/wireless/wireless.c **** * 		Contains API functions to transmit data wirelessly using the XBee and 
   8:../../mod/wireless/wireless.c **** *       and LoRa modules 
   9:../../mod/wireless/wireless.c **** *
  10:../../mod/wireless/wireless.c **** *******************************************************************************/
  11:../../mod/wireless/wireless.c **** 
  12:../../mod/wireless/wireless.c **** 
  13:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  14:../../mod/wireless/wireless.c ****  Standard Includes                                                                     
  15:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  16:../../mod/wireless/wireless.c **** #if defined( GROUND_STATION )
  17:../../mod/wireless/wireless.c **** 	#include "sdr_pin_defines_A0005.h"
  18:../../mod/wireless/wireless.c **** #elif defined( ENGINE_CONTROLLER )
  19:../../mod/wireless/wireless.c **** 	#include "sdr_pin_defines_L0002.h"
  20:../../mod/wireless/wireless.c **** #endif
  21:../../mod/wireless/wireless.c **** 
  22:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  23:../../mod/wireless/wireless.c ****  Project Includes                                                                     
  24:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  25:../../mod/wireless/wireless.c **** #include "main.h"
  26:../../mod/wireless/wireless.c **** #include "wireless.h"
  27:../../mod/wireless/wireless.c **** 
  28:../../mod/wireless/wireless.c **** 
  29:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  30:../../mod/wireless/wireless.c **** Global Variables                                                                  
ARM GAS  /tmp/cc1502c8.s 			page 2


  31:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  32:../../mod/wireless/wireless.c **** 
  33:../../mod/wireless/wireless.c **** 
  34:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  35:../../mod/wireless/wireless.c ****  Procedures 
  36:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  37:../../mod/wireless/wireless.c **** 
  38:../../mod/wireless/wireless.c **** 
  39:../../mod/wireless/wireless.c **** /*******************************************************************************
  40:../../mod/wireless/wireless.c **** *                                                                              *
  41:../../mod/wireless/wireless.c **** * PROCEDURE:                                                                   * 
  42:../../mod/wireless/wireless.c **** * 		rf_xbee_transmit_byte                                                  *
  43:../../mod/wireless/wireless.c **** *                                                                              *
  44:../../mod/wireless/wireless.c **** * DESCRIPTION:                                                                 * 
  45:../../mod/wireless/wireless.c **** * 		transmits a byte wirelessly using the xbee module                      *
  46:../../mod/wireless/wireless.c **** *                                                                              *
  47:../../mod/wireless/wireless.c **** *******************************************************************************/
  48:../../mod/wireless/wireless.c **** RF_STATUS rf_xbee_transmit_byte 
  49:../../mod/wireless/wireless.c **** 	(
  50:../../mod/wireless/wireless.c ****     uint8_t tx_byte	
  51:../../mod/wireless/wireless.c **** 	)
  52:../../mod/wireless/wireless.c **** {
  29              		.loc 1 52 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 52 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 8DF80700 		strb	r0, [sp, #7]
  53:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  54:../../mod/wireless/wireless.c ****  Local Variables
  55:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  56:../../mod/wireless/wireless.c **** HAL_StatusTypeDef xbee_status;
  42              		.loc 1 56 1 is_stmt 1 view .LVU2
  57:../../mod/wireless/wireless.c **** 
  58:../../mod/wireless/wireless.c **** 
  59:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  60:../../mod/wireless/wireless.c ****  API Function Implementation 
  61:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  62:../../mod/wireless/wireless.c **** 
  63:../../mod/wireless/wireless.c **** /* Transmit byte */
  64:../../mod/wireless/wireless.c **** xbee_status = HAL_UART_Transmit( &( XBEE_HUART )  ,
  43              		.loc 1 64 1 view .LVU3
  44              		.loc 1 64 15 is_stmt 0 view .LVU4
  45 0008 0123     		movs	r3, #1
  46 000a 1A46     		mov	r2, r3
  47 000c 0DF10701 		add	r1, sp, #7
  48 0010 0248     		ldr	r0, .L3
  49              	.LVL1:
  50              		.loc 1 64 15 view .LVU5
  51 0012 FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  /tmp/cc1502c8.s 			page 3


  52              	.LVL2:
  65:../../mod/wireless/wireless.c ****                                  &tx_byte         , 
  66:../../mod/wireless/wireless.c ****                                  sizeof( tx_byte ), 
  67:../../mod/wireless/wireless.c ****                                  RF_TIMEOUT );
  68:../../mod/wireless/wireless.c **** 
  69:../../mod/wireless/wireless.c **** /* Return HAL status */
  70:../../mod/wireless/wireless.c **** if ( xbee_status != HAL_OK )
  53              		.loc 1 70 1 is_stmt 1 view .LVU6
  71:../../mod/wireless/wireless.c **** 	{
  72:../../mod/wireless/wireless.c **** 	return xbee_status;
  73:../../mod/wireless/wireless.c **** 	}
  74:../../mod/wireless/wireless.c **** else
  75:../../mod/wireless/wireless.c **** 	{
  76:../../mod/wireless/wireless.c **** 	return RF_OK;
  77:../../mod/wireless/wireless.c **** 	}
  78:../../mod/wireless/wireless.c **** 
  79:../../mod/wireless/wireless.c **** } /* rf_xbee_transmit_byte */
  54              		.loc 1 79 1 is_stmt 0 view .LVU7
  55 0016 03B0     		add	sp, sp, #12
  56              	.LCFI2:
  57              		.cfi_def_cfa_offset 4
  58              		@ sp needed
  59 0018 5DF804FB 		ldr	pc, [sp], #4
  60              	.L4:
  61              		.align	2
  62              	.L3:
  63 001c 00000000 		.word	huart4
  64              		.cfi_endproc
  65              	.LFE333:
  67              		.section	.text.rf_xbee_receive_byte,"ax",%progbits
  68              		.align	1
  69              		.global	rf_xbee_receive_byte
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	rf_xbee_receive_byte:
  75              	.LVL3:
  76              	.LFB334:
  80:../../mod/wireless/wireless.c **** 
  81:../../mod/wireless/wireless.c **** 
  82:../../mod/wireless/wireless.c **** /*******************************************************************************
  83:../../mod/wireless/wireless.c **** *                                                                              *
  84:../../mod/wireless/wireless.c **** * PROCEDURE:                                                                   * 
  85:../../mod/wireless/wireless.c **** * 		rf_xbee_receieve_byte                                                  *
  86:../../mod/wireless/wireless.c **** *                                                                              *
  87:../../mod/wireless/wireless.c **** * DESCRIPTION:                                                                 * 
  88:../../mod/wireless/wireless.c **** * 		Receives a byte from the xbee module                                   *
  89:../../mod/wireless/wireless.c **** *                                                                              *
  90:../../mod/wireless/wireless.c **** *******************************************************************************/
  91:../../mod/wireless/wireless.c **** RF_STATUS rf_xbee_receive_byte 
  92:../../mod/wireless/wireless.c **** 	(
  93:../../mod/wireless/wireless.c **** 	uint8_t* p_rx_byte	
  94:../../mod/wireless/wireless.c **** 	)
  95:../../mod/wireless/wireless.c **** {
  77              		.loc 1 95 1 is_stmt 1 view -0
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc1502c8.s 			page 4


  80              		@ frame_needed = 0, uses_anonymous_args = 0
  81              		.loc 1 95 1 is_stmt 0 view .LVU9
  82 0000 08B5     		push	{r3, lr}
  83              	.LCFI3:
  84              		.cfi_def_cfa_offset 8
  85              		.cfi_offset 3, -8
  86              		.cfi_offset 14, -4
  87 0002 0146     		mov	r1, r0
  96:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
  97:../../mod/wireless/wireless.c ****  Local Variables
  98:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
  99:../../mod/wireless/wireless.c **** HAL_StatusTypeDef xbee_status;
  88              		.loc 1 99 1 is_stmt 1 view .LVU10
 100:../../mod/wireless/wireless.c **** 
 101:../../mod/wireless/wireless.c **** 
 102:../../mod/wireless/wireless.c **** /*------------------------------------------------------------------------------
 103:../../mod/wireless/wireless.c ****  API Function Implementation 
 104:../../mod/wireless/wireless.c **** ------------------------------------------------------------------------------*/
 105:../../mod/wireless/wireless.c **** 
 106:../../mod/wireless/wireless.c **** /* Transmit byte */
 107:../../mod/wireless/wireless.c **** xbee_status = HAL_UART_Receive( &( XBEE_HUART )  ,
  89              		.loc 1 107 1 view .LVU11
  90              		.loc 1 107 15 is_stmt 0 view .LVU12
  91 0004 0123     		movs	r3, #1
  92 0006 1A46     		mov	r2, r3
  93 0008 0248     		ldr	r0, .L8
  94              	.LVL4:
  95              		.loc 1 107 15 view .LVU13
  96 000a FFF7FEFF 		bl	HAL_UART_Receive
  97              	.LVL5:
 108:../../mod/wireless/wireless.c ****                                 p_rx_byte        , 
 109:../../mod/wireless/wireless.c ****                                 sizeof( uint8_t ), 
 110:../../mod/wireless/wireless.c ****                                 RF_TIMEOUT );
 111:../../mod/wireless/wireless.c **** 
 112:../../mod/wireless/wireless.c **** /* Return HAL status */
 113:../../mod/wireless/wireless.c **** switch ( xbee_status )
  98              		.loc 1 113 1 is_stmt 1 view .LVU14
  99 000e 00B1     		cbz	r0, .L6
 114:../../mod/wireless/wireless.c **** 	{
 115:../../mod/wireless/wireless.c **** 	case HAL_TIMEOUT:
 116:../../mod/wireless/wireless.c **** 		{
 117:../../mod/wireless/wireless.c **** 		return RF_TIMEOUT;
 100              		.loc 1 117 10 is_stmt 0 view .LVU15
 101 0010 0120     		movs	r0, #1
 102              	.LVL6:
 103              	.L6:
 118:../../mod/wireless/wireless.c **** 		break;
 119:../../mod/wireless/wireless.c **** 		}
 120:../../mod/wireless/wireless.c **** 	case HAL_OK:
 121:../../mod/wireless/wireless.c **** 		{
 122:../../mod/wireless/wireless.c **** 		return RF_OK;
 123:../../mod/wireless/wireless.c **** 		break;
 124:../../mod/wireless/wireless.c **** 		}
 125:../../mod/wireless/wireless.c **** 	default:
 126:../../mod/wireless/wireless.c **** 		{
 127:../../mod/wireless/wireless.c **** 		return RF_FAIL;
 128:../../mod/wireless/wireless.c **** 		break;
ARM GAS  /tmp/cc1502c8.s 			page 5


 104              		.loc 1 128 3 is_stmt 1 view .LVU16
 129:../../mod/wireless/wireless.c ****         }
 130:../../mod/wireless/wireless.c **** 	}
 131:../../mod/wireless/wireless.c **** } /* rf_xbee_transmit_byte */
 105              		.loc 1 131 1 is_stmt 0 view .LVU17
 106 0012 08BD     		pop	{r3, pc}
 107              	.L9:
 108              		.align	2
 109              	.L8:
 110 0014 00000000 		.word	huart4
 111              		.cfi_endproc
 112              	.LFE334:
 114              		.text
 115              	.Letext0:
 116              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 117              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 118              		.file 4 "../../lib/Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 119              		.file 5 "../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 120              		.file 6 "../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 121              		.file 7 "../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 122              		.file 8 "../../mod/wireless/wireless.h"
 123              		.file 9 "../../lib/sdr_pin_defines_L0002.h"
ARM GAS  /tmp/cc1502c8.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 wireless.c
     /tmp/cc1502c8.s:20     .text.rf_xbee_transmit_byte:0000000000000000 $t
     /tmp/cc1502c8.s:26     .text.rf_xbee_transmit_byte:0000000000000000 rf_xbee_transmit_byte
     /tmp/cc1502c8.s:63     .text.rf_xbee_transmit_byte:000000000000001c $d
     /tmp/cc1502c8.s:68     .text.rf_xbee_receive_byte:0000000000000000 $t
     /tmp/cc1502c8.s:74     .text.rf_xbee_receive_byte:0000000000000000 rf_xbee_receive_byte
     /tmp/cc1502c8.s:110    .text.rf_xbee_receive_byte:0000000000000014 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart4
HAL_UART_Receive
